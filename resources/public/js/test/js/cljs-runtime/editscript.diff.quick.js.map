{"version":3,"sources":["editscript/diff/quick.cljc"],"mappings":"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","names":["editscript.diff.quick/diff*","script","path","a","b","opts","editscript.diff.quick/diff-map","cljs.core/reduce-kv","_","ka","va","path'","cljs.core.conj","cljs.core/contains?","G__50923","G__50924","G__50925","G__50926","G__50927","cljs.core.get","G__50928","G__50929","G__50930","G__50931","G__50933","editscript.edit/nada","kb","vb","G__50936","G__50937","G__50938","G__50939","G__50940","editscript.diff.quick/diff-vec","cljs.core.reduce","p__50947","vec__50949","cljs.core.nth","ia","ia'","ib","op","G__50952","cljs.core/Keyword","G__50953","G__50954","G__50955","G__50956","G__50957","G__50962","G__50963","G__50964","G__50965","G__50966","G__50969","G__50970","G__50971","G__50972","G__50973","cljs.core/transient","editscript.util.common/vec-edits","editscript.diff.quick/diff-set","seq__50977","cljs.core/seq","chunk__50978","count__50979","i__50980","temp__5753__auto__","cljs.core/chunked-seq?","c__4638__auto__","cljs.core/chunk-first","cljs.core/chunk-rest","cljs.core/count","cljs.core/first","cljs.core/next","clojure.set.difference","G__50999","G__51000","G__51001","G__51002","G__51003","G__51012","G__51013","G__51014","G__51015","G__51016","seq__51023","chunk__51024","count__51025","i__51026","G__51065","G__51066","G__51067","G__51068","G__51069","G__51078","G__51079","G__51080","G__51081","G__51082","editscript.diff.quick/diff-lst","cljs.core/vec","editscript.diff.quick/diff-val","cljs.core._EQ_","editscript.edit/get-type","editscript.edit/delete-data","editscript.edit/replace-data","G__51115","js/Error","editscript.edit/add-data","G__51117","fexpr__51123","G__51130","fexpr__51136","G__51139","fexpr__51142","G__51154","fexpr__51166","G__51169","fexpr__51176","editscript.util.common/diff-str","var_args","G__51191","editscript.diff.quick/diff","editscript.diff.quick.diff","editscript.edit/edits->script","editscript.util.common/diff-algo"],"sourcesContent":[";;\n;; Copyright (c) Huahai Yang. All rights reserved.\n;; The use and distribution terms for this software are covered by the\n;; Eclipse Public License 1.0 (http://opensource.org/licenses/eclipse-1.0.php)\n;; which can be found in the file LICENSE at the root of this distribution.\n;; By using this software in any fashion, you are agreeing to be bound by\n;; the terms of this license.\n;; You must not remove this notice, or any other, from this software.\n;;\n\n(ns ^:no-doc editscript.diff.quick\n  (:require [clojure.set :as set]\n            [editscript.edit :as e]\n            [editscript.util.common :as c\n             #?@(:cljs [:include-macros true])]))\n\n#?(:clj (set! *warn-on-reflection* true))\n#?(:clj (set! *unchecked-math* :warn-on-boxed))\n\n(defn ^:declared diff* [script path a b opts])\n\n(defn- diff-map\n  [script path a b opts]\n  (reduce-kv\n    (fn [_ ka va]\n      (let [path' (conj path ka)]\n        (if (contains? b ka)\n          (diff* script path' va (get b ka) opts)\n          (diff* script path' va (e/nada) opts))))\n    nil\n    a)\n  (reduce-kv\n    (fn [_ kb vb]\n      (when-not (contains? a kb)\n        (diff* script (conj path kb) (e/nada) vb opts)))\n    nil\n    b))\n\n(defn- diff-vec\n  \"Adjust the indices to have a correct editscript\"\n  [script path a b opts]\n  (reduce\n    (fn [[^long ia ^long ia' ^long ib] op]\n      (case op\n        :- (do (diff* script (conj path ia') (get a ia) (e/nada) opts)\n               [(inc ia) ia' ib])\n        :+ (do (diff* script (conj path ia') (e/nada) (get b ib) opts)\n               [ia (inc ia') (inc ib)])\n        :r (do (diff* script (conj path ia') (get a ia) (get b ib) opts)\n               [(inc ia) (inc ia') (inc ib)])\n        [(+ ia ^long op) (+ ia' ^long op) (+ ib ^long op)]))\n    (transient [0 0 0])\n    (c/vec-edits a b)))\n\n(defn- diff-set\n  [script path a b opts]\n  (doseq [va (set/difference a b)]\n    (diff* script (conj path va) va (e/nada) opts))\n  (doseq [vb (set/difference b a)]\n    (diff* script (conj path vb) (e/nada) vb opts)))\n\n(defn- diff-lst\n  [script path a b opts]\n  (diff-vec script path (vec a) (vec b) opts))\n\n(defn- diff-val\n  [script path a b]\n  (if (= (e/get-type b) :nil)\n    (e/delete-data script path)\n    (e/replace-data script path b)))\n\n(defn diff*\n  [script path a b opts]\n  (when-not (= a b)\n    (case (e/get-type a)\n      :nil (e/add-data script path b)\n      :map (c/coll-case a b script path :map #'diff-map opts)\n      :vec (c/coll-case a b script path :vec #'diff-vec opts)\n      :set (c/coll-case a b script path :set #'diff-set opts)\n      :lst (c/coll-case a b script path :lst #'diff-lst opts)\n      :str (if (:str-diff? opts)\n             (c/coll-case a b script path :str\n                          #'editscript.util.common/diff-str opts)\n             (diff-val script path a b))\n      :val (diff-val script path a b))))\n\n(defn diff\n  \"Create an EditScript that represents the difference between `b` and `a`\n  This algorithm is fast, but it does not attempt to generate an EditScript\n  that is minimal in size\"\n  ([a b]\n   (diff a b {:str-diff? false}))\n  ([a b opts]\n   (let [script (e/edits->script [])]\n     (diff* script [] a b opts)\n     script)))\n\n(defmethod c/diff-algo :quick\n  [a b opts]\n  (diff a b opts))\n"]}