{"version":3,"sources":["cljs_audio/envelopes.cljc"],"mappings":";AAEA,+BAAA,/BAAMA,sEAASC,EAAEC;AAAjB,AAAA,0FAAA,mFAAA,wFAAA,PACwBD,EAAEC;;AAE1B,4CAAA,5CAAMC,gGAAiBD;AAAvB,AAAA,0FAAA,mFAAA,2FAC6BA;;AAE7B,qCAAA,rCAAME,kFAAUH,EAAEC;AAAlB,AACE,OAACG,6CAAK,AAACF,0CAAgBD,MACjB,AAACF,6BAAQC,EAAEC;;AAEnB,4BAAA,5BAAMI,gEAAMC,EAAEC,EAAEC,EAAEC,EAAEC,SAASC,MAAMV;AAAnC,AAAA;AAEE,2FAAA,mFAAA,mFAAA,+HAAA,mFAAA,2IAAA,mFAAA,wJAAA,mFAAA,sGAAA,3/BAACG,6CAAK,6BAAA,7BAACL,iCAAUE,kRACqBU,MAAM,CAAGV,OAAKK,oMACd,CAAGE,IAAEG,OAAO,CAAA,CAAGV,OAAKK,KAAEC,oMACtB,CAAGC,IAAEG,OAAO,CAAA,CAAA,CAAGV,OAAKK,KAAEC,KAAEG,+MACtB,CAAA,CAAA,CAAA,CAAGT,OAAKK,KAAEC,KAAEG,YAASD;;AAE/D,kCAAA,lCAAMG,4EAAON,EAAEC,EAAEC,EAAEC,EAAEC,SAASC,MAAMV;AAApC,AAAA;AAEE,OAACG,6CAAK,AAACF,0CAAgBD,MACjB,AAACI,0BAAKC,EAAEC,EAAEC,EAAEC,EAAEC,SAASC,MAAMV","names":["cljs-audio.envelopes/at-time","v","time","cljs-audio.envelopes/cancel-at-time!","cljs-audio.envelopes/at-time!","cljs.core.into","cljs-audio.envelopes/adsr","a","d","s","r","s-length","value","cljs-audio.envelopes/adsr!"],"sourcesContent":["(ns cljs-audio.envelopes)\n\n(defn at-time [v time]\n  [[:set-target-at-time v time 0.001]])\n\n(defn cancel-at-time! [time]\n  [[:cancel-scheduled-values time]])\n\n(defn at-time! [v time]\n  (into (cancel-at-time! time)\n        (at-time v time)))\n\n(defn adsr [a d s r s-length value time]\n  \"Schedules ADSR envelope.\"\n  (into (at-time 0 time)\n        [[:linear-ramp-to-value-at-time value (+ time a)]\n         [:linear-ramp-to-value-at-time (* s value) (+ time a d)]\n         [:linear-ramp-to-value-at-time (* s value) (+ time a d s-length)]\n         [:linear-ramp-to-value-at-time 0 (+ time a d s-length r)]]))\n\n(defn adsr! [a d s r s-length value time]\n  \"Cancels all scheduled values and schedules ADSR envelope.\"\n  (into (cancel-at-time! time)\n        (adsr a d s r s-length value time)))\n"]}